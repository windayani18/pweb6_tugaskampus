<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="tugas_rumah.css" rel="stylesheet">

    <title>Form Registrasi</title>
    <style>
      .error {
        color: red;
        width: 300px;
        text-align: center;
        padding: 2px 10px;
        margin-left: 10px;
      }
    </style>
  </head>
  <body>
      <h2>Form Registrasi</h2>
      <fieldset><legend>Form Registrasi</legend>
      <form
        id="registrationForm"
        name="registrationForm"
        method="post"
        action="proses.php"
      >
        <p>
          Nama: <input type="text" name="nama" id="nama" />
          <span id="namaSpan"></span>
        </p>
        <p>
          Username: <input type="text" name="username" id="username" />
          <span id="usernameSpan"></span>
        </p>
        <p>
          Email: <input type="email" name="email" id="email" />
          <span id="emailSpan"></span>
        </p>
        <p>
          Password: <input type="password" name="password" id="password" />
          <span id="passwordSpan"></span>
        </p>
        <p>
          Konfirmasi Password:
          <input
            type="password"
            name="konfirmasi_password"
            id="konfirmasi_password"
          />
          <span id="konfirmasiPasswordSpan"></span>
        </p>
        <p>
          No Telepon: <input type="tel" name="no_telepon" id="no_telepon" />
          <span id="noTeleponSpan"></span>
        </p>
        <p>
          Jenis Kelamin:
          <input
            type="radio"
            name="jenis_kelamin"
            id="jenis_kelamin_pria"
            value="Pria"
          />
          <label for="jenis_kelamin_pria">Pria</label>
          <input
            type="radio"
            name="jenis_kelamin"
            id="jenis_kelamin_wanita"
            value="Wanita"
          />
          <label for="jenis_kelamin_wanita">Wanita</label>
          <span id="jenisKelaminSpan"></span>
        </p>
        <p>
          Alamat Website: <input type="url" name="website" id="website" />
          <span id="websiteSpan"></span>
        </p>
        <p>
          <input type="submit" name="submit" id="submit" value="Daftar" />
        </p>
        
      </form>
    </fieldset>
    </body>
    <script>
      document
        .getElementById("registrationForm")
        .addEventListener("submit", function (event) {
          let namaNode = document.getElementById("nama");
          let usernameNode = document.getElementById("username");
          let emailNode = document.getElementById("email");
          let passwordNode = document.getElementById("password");
          let konfirmasiPasswordNode = document.getElementById(
            "konfirmasi_password"
          );
          let noTeleponNode = document.getElementById("no_telepon");
          let jenisKelaminNodePria =
            document.getElementById("jenis_kelamin_pria");
          let jenisKelaminNodeWanita = document.getElementById(
            "jenis_kelamin_wanita"
          );
          let websiteNode = document.getElementById("website");

          let namaSpanNode = document.getElementById("namaSpan");
          let usernameSpanNode = document.getElementById("usernameSpan");
          let emailSpanNode = document.getElementById("emailSpan");
          let passwordSpanNode = document.getElementById("passwordSpan");
          let konfirmasiPasswordSpanNode = document.getElementById(
            "konfirmasiPasswordSpan"
          );
          let noTeleponSpanNode = document.getElementById("noTeleponSpan");
          let jenisKelaminSpanNode =
            document.getElementById("jenisKelaminSpan");
          let websiteSpanNode = document.getElementById("websiteSpan");

          let namaError = "";
          let usernameError = "";
          let emailError = "";
          let passwordError = "";
          let konfirmasiPasswordError = "";
          let noTeleponError = "";
          let jenisKelaminError = "";
          let websiteError = "";

          // Validasi Nama
          if (namaNode.value.trim() === "") {
            namaError = "Nama harus diisi";
          }

          // Validasi Username
          if (usernameNode.value.trim() === "") {
            usernameError = "Username harus diisi";
          }

          // Validasi Email
          if (emailNode.value.trim() === "") {
            emailError = "Email harus diisi";
          } else if (!validateEmail(emailNode.value.trim())) {
            emailError = "Email tidak valid";
          }

          // Validasi Password
          if (passwordNode.value.trim() === "") {
            passwordError = "Password harus diisi";
          }

          // Validasi Konfirmasi Password
          if (konfirmasiPasswordNode.value.trim() === "") {
            konfirmasiPasswordError = "Konfirmasi password harus diisi";
          } else if (
            konfirmasiPasswordNode.value.trim() !== passwordNode.value.trim()
          ) {
            konfirmasiPasswordError = "Konfirmasi password tidak cocok";
          }

          // Validasi No Telepon
          if (noTeleponNode.value.trim() === "") {
            noTeleponError = "Nomor telepon harus diisi";
          }

          // Validasi Jenis Kelamin
          if (
            !jenisKelaminNodePria.checked &&
            !jenisKelaminNodeWanita.checked
          ) {
            jenisKelaminError = "Jenis kelamin harus dipilih";
          }

          // Validasi Alamat Website
          if (websiteNode.value.trim() === "") {
            websiteError = "Alamat website harus diisi";
          }

          if (namaError !== "") {
            namaSpanNode.innerHTML = namaError;
            namaSpanNode.className = "error";
            event.preventDefault();
          }

          if (usernameError !== "") {
            usernameSpanNode.innerHTML = usernameError;
            usernameSpanNode.className = "error";
            event.preventDefault();
          }

          if (emailError !== "") {
            emailSpanNode.innerHTML = emailError;
            emailSpanNode.className = "error";
            event.preventDefault();
          }

          if (passwordError !== "") {
            passwordSpanNode.innerHTML = passwordError;
            passwordSpanNode.className = "error";
            event.preventDefault();
          }

          if (konfirmasiPasswordError !== "") {
            konfirmasiPasswordSpanNode.innerHTML = konfirmasiPasswordError;
            konfirmasiPasswordSpanNode.className = "error";
            event.preventDefault();
          }

          if (noTeleponError !== "") {
            noTeleponSpanNode.innerHTML = noTeleponError;
            noTeleponSpanNode.className = "error";
            event.preventDefault();
          }

          if (jenisKelaminError !== "") {
            jenisKelaminSpanNode.innerHTML = jenisKelaminError;
            jenisKelaminSpanNode.className = "error";
            event.preventDefault();
          }

          if (websiteError !== "") {
            websiteSpanNode.innerHTML = websiteError;
            websiteSpanNode.className = "error";
            event.preventDefault();
          }
        });

      function validateEmail(email) {
        // Regular expression for validating an email address
        let re = /\S+@\S+\.\S+/;
        return re.test(email);
      }
      document.getElementById("no_telepon").addEventListener("input", function(event) {
      const input = event.target.value;
        event.target.value = input.replace(/\D/g, ''); // Replace non-digit characters with empty string
      });
    </script>
  </body>
</html>